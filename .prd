.prd: Fix Selkies HTML/WebSocket architecture - ACTIVE

GOAL: Serve proper HTML page at / that opens WebSocket to Selkies, not proxy HTTP to Selkies directly

ROOT CAUSE:
- Currently / proxies HTTP directly to Selkies (WebSocket server)
- Selkies returns 426 "upgrade required" for HTTP requests
- Browser needs HTML page first, then JavaScript opens WebSocket connection
- Selkies only handles WebSocket, not HTTP

SOLUTION ARCHITECTURE:
1. Serve static HTML from /opt/gmweb-startup/public/ or similar
2. HTML contains JavaScript that opens WebSocket to ws://localhost:8082/
3. nginx serves HTML on /, proxies WebSocket upgrade requests to Selkies
4. /desk/ should work the same way

IMPLEMENTATION ITEMS:

Item 1: Identify Selkies WebSocket endpoint
  - Run: curl -i http://localhost:8082/ 2>&1 | head -15
  - Check: WebSocket URL format, authentication requirements
  - Expected: WebSocket server response
  - Dependency: none

Item 2: Check if Selkies has built-in HTML or frontend
  - Run: selkies --help 2>&1 | grep -i "html\|web\|frontend\|static"
  - Check: Does Selkies serve HTML or only WebSocket?
  - Expected: Documentation of HTML/static file serving
  - Dependency: none

Item 3: Create HTML frontend for Selkies
  - Location: /opt/gmweb-startup/public/index.html
  - Content: HTML with canvas element + JavaScript to connect to WebSocket
  - JavaScript: Open WebSocket, handle video stream, input events
  - Dependency: Item 1, Item 2

Item 4: Update nginx config to serve HTML from /public/
  - File: docker/nginx-sites-enabled-default
  - Action: Add location / to serve static files from /opt/gmweb-startup/public/
  - Add: Separate location block for WebSocket proxy (ws:// upgrade)
  - Result: / serves index.html, WebSocket proxied to Selkies
  - Dependency: Item 3

Item 5: Test HTML loads on /
  - Run: curl -s http://localhost/ | head -20
  - Expected: HTML content with DOCTYPE, not WebSocket error
  - Dependency: Item 4

Item 6: Test WebSocket connection works
  - Use: Browser to open https://buildesk.acc.l-inc.co.za/
  - Expected: HTML page loads, WebSocket connects, video streams
  - Dependency: Item 5

Item 7: Test /desk/ endpoint serves same HTML
  - Run: curl -s http://localhost/desk/ | head -20
  - Expected: Same HTML content as /
  - Dependency: Item 5

Item 8: Verify live domain /desk/ works
  - Run: curl -s -u abc:Test123456 https://buildesk.acc.l-inc.co.za/desk/ | head -5
  - Expected: HTML content, not 404
  - Dependency: Item 7

DECISION POINTS:

D1: Should we use existing Selkies HTML if available?
  - Check if Selkies package includes HTML files
  - If yes: Copy and use them
  - If no: Create simple HTML with canvas + WebSocket client
  - Dependency: Item 2

D2: Where to serve static files from?
  - Option A: /opt/gmweb-startup/public/ (gets refreshed with each deploy)
  - Option B: /config/www/ (persistent across deploys)
  - Decision: Use Option A for fresh deployment experience
  - Dependency: Item 3

D3: Authentication for WebSocket?
  - Option A: HTTP Basic Auth on / (nginx level)
  - Option B: Token in WebSocket URL
  - Option C: Session cookie
  - Decision: Keep HTTP Basic Auth, WebSocket inherits from parent connection
  - Dependency: Item 4

EXECUTION STRATEGY:

Phase 1 (Parallel): Investigation
  └─ Item 1 (Selkies endpoint)
  └─ Item 2 (Selkies HTML/frontend)
  Result: Understand Selkies architecture

Phase 2 (Decision): Determine HTML source
  └─ D1 (existing HTML?)
  Result: Decide on HTML source

Phase 3 (Sequential): Implementation
  └─ Item 3 (Create/copy HTML)
  └─ Item 4 (Update nginx config)
  └─ Item 5 (Test local HTML)
  Result: Local endpoints working

Phase 4 (Sequential): Verification
  └─ Item 6 (Browser test)
  └─ Item 7 (Test /desk/)
  └─ Item 8 (Live domain /desk/)
  Result: All endpoints working end-to-end

GATE CONDITIONS:
✓ / endpoint returns HTML (200 OK with DOCTYPE)
✓ /desk/ endpoint returns same HTML
✓ WebSocket connection established from HTML
✓ Video stream visible in browser
✓ Live domain / and /desk/ both work
✓ No 404 errors
✓ No WebSocket upgrade errors on HTTP GET

CRITICAL SUCCESS:
https://buildesk.acc.l-inc.co.za/ loads proper HTML page
https://buildesk.acc.l-inc.co.za/desk/ loads same HTML page
Browser renders desktop video stream
Mouse/keyboard responsive
